{"ast":null,"code":"var _jsxFileName = \"/Users/raniradzewsky/React/Interviews/Senseem/AI-Event-Planning/Frontend/src/Components/HomeArea/SearchBar/SearchBar.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport EventModel from \"../../../Models/EventModel\";\nimport dataService from \"../../../Services/DataService\";\nimport notifyService from \"../../../Services/NotifyService\";\nimport MarvinOutput from \"../MarvinOutput/MarvinOutput\";\nimport \"./SearchBar.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchBar() {\n  _s();\n  const [neededUrl, setNeededUrl] = useState(\"\");\n  const [currentEvent, setCurrentEvent] = useState();\n  const [outputText, setOutputText] = useState(\"\");\n  const inputElement = document.getElementById(\"InputText\");\n  //   const outputElement = document.getElementById(\"AIOutput\") as HTMLDivElement;\n\n  function hasNullProperty(obj) {\n    console.log(\"checking for missing values...\");\n    console.log(obj);\n    for (const value of Object.values(obj)) {\n      if (value === null || value === \"unknown\") {\n        console.log(\"true\");\n        return true;\n      }\n    }\n    console.log(\"false\");\n    return false;\n  }\n  async function sendToBackend() {\n    try {\n      let updatedEvent;\n      if (!currentEvent) {\n        var _event$eventName, _event$Location, _event$Budget, _event$Guest;\n        setNeededUrl(\"translate_prompt\");\n        const event = await dataService.sendAndReceiveInitialPrompt(neededUrl, inputElement.value.toString());\n        console.log(event);\n        updatedEvent = new EventModel({\n          eventName: (_event$eventName = event.eventName) !== null && _event$eventName !== void 0 ? _event$eventName : \"unknown\",\n          location: (_event$Location = event.Location) !== null && _event$Location !== void 0 ? _event$Location : \"unknown\",\n          budget: (_event$Budget = event.Budget) !== null && _event$Budget !== void 0 ? _event$Budget : \"unknown\",\n          guests: (_event$Guest = event.Guest) !== null && _event$Guest !== void 0 ? _event$Guest : \"unknown\"\n        });\n        console.log(updatedEvent);\n\n        // If the event is missing values of the event model\n        if (hasNullProperty(updatedEvent)) {\n          // Update AI chat text...\n          setNeededUrl(\"ask_For_Blanks\");\n          setOutputText(await dataService.askForMissingValues(neededUrl, updatedEvent));\n        }\n\n        // Use updatedEvent instead of currentEvent\n        setCurrentEvent(updatedEvent);\n      }\n      if (updatedEvent && hasNullProperty(updatedEvent)) {\n        console.log(\"missing values...\");\n        setNeededUrl(\"fill_In_Blanks\");\n        // Use updatedEvent instead of currentEvent\n        updatedEvent = await dataService.sendAndReceiveMissingValues(neededUrl, inputElement.value);\n        setCurrentEvent(updatedEvent);\n      }\n      if (updatedEvent && !hasNullProperty(updatedEvent)) {\n        // Recommend places that fit the event values...\n        console.log(\"recommending...\");\n      }\n    } catch (err) {\n      notifyService.error(err);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"SearchBar\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"InputText\",\n      className: \"InputBox\",\n      type: \"text\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"SearchButton\",\n      onClick: () => sendToBackend(),\n      children: \"Help Me\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MarvinOutput, {\n      text: outputText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchBar, \"EreltlnIUbW+PW/uECG3jc9VN4A=\");\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["useState","EventModel","dataService","notifyService","MarvinOutput","SearchBar","neededUrl","setNeededUrl","currentEvent","setCurrentEvent","outputText","setOutputText","inputElement","document","getElementById","hasNullProperty","obj","console","log","value","Object","values","sendToBackend","updatedEvent","event","sendAndReceiveInitialPrompt","toString","eventName","location","Location","budget","Budget","guests","Guest","askForMissingValues","sendAndReceiveMissingValues","err","error"],"sources":["/Users/raniradzewsky/React/Interviews/Senseem/AI-Event-Planning/Frontend/src/Components/HomeArea/SearchBar/SearchBar.tsx"],"sourcesContent":["import { eventNames } from \"process\";\nimport { useEffect, useState } from \"react\";\nimport EventModel from \"../../../Models/EventModel\";\nimport dataService from \"../../../Services/DataService\";\nimport notifyService from \"../../../Services/NotifyService\";\nimport MarvinOutput from \"../MarvinOutput/MarvinOutput\";\nimport \"./SearchBar.css\";\n\nfunction SearchBar(): JSX.Element {\n  const [neededUrl, setNeededUrl] = useState<string>(\"\");\n  const [currentEvent, setCurrentEvent] = useState<EventModel>();\n  const [outputText, setOutputText] = useState(\"\");\n  const inputElement = document.getElementById(\"InputText\") as HTMLInputElement;\n  //   const outputElement = document.getElementById(\"AIOutput\") as HTMLDivElement;\n\n  function hasNullProperty(obj: EventModel): boolean {\n    console.log(\"checking for missing values...\");\n    console.log(obj);\n\n    for (const value of Object.values(obj)) {\n      if (value === null || value === \"unknown\") {\n        console.log(\"true\");\n        return true;\n      }\n    }\n    console.log(\"false\");\n    return false;\n  }\n\n  async function sendToBackend() {\n    try {\n      let updatedEvent: EventModel | undefined;\n\n      if (!currentEvent) {\n        setNeededUrl(\"translate_prompt\");\n        const event: EventModel = await dataService.sendAndReceiveInitialPrompt(\n          neededUrl,\n          inputElement.value.toString()\n        );\n        console.log(event);\n\n        updatedEvent = new EventModel({\n            eventName: event.eventName ?? \"unknown\",\n            location: event.Location ?? \"unknown\",\n            budget: event.Budget ?? \"unknown\",\n            guests: event.Guest ?? \"unknown\",\n          });\n\n        console.log(updatedEvent);\n\n        // If the event is missing values of the event model\n        if (hasNullProperty(updatedEvent)) {\n          // Update AI chat text...\n          setNeededUrl(\"ask_For_Blanks\");\n          setOutputText(\n            await dataService.askForMissingValues(neededUrl, updatedEvent)\n          );\n        }\n\n        // Use updatedEvent instead of currentEvent\n        setCurrentEvent(updatedEvent);\n      }\n\n      if (updatedEvent && hasNullProperty(updatedEvent)) {\n        console.log(\"missing values...\");\n\n        setNeededUrl(\"fill_In_Blanks\");\n        // Use updatedEvent instead of currentEvent\n        updatedEvent = await dataService.sendAndReceiveMissingValues(\n          neededUrl,\n          inputElement.value\n        );\n\n        setCurrentEvent(updatedEvent);\n      }\n\n      if (updatedEvent && !hasNullProperty(updatedEvent)) {\n        // Recommend places that fit the event values...\n        console.log(\"recommending...\");\n      }\n    } catch (err: any) {\n      notifyService.error(err);\n    }\n  }\n\n  return (\n    <div className=\"SearchBar\">\n      {/* search bar and enter: */}\n      <input id=\"InputText\" className=\"InputBox\" type=\"text\"></input>\n      <br />\n      <button className=\"SearchButton\" onClick={() => sendToBackend()}>\n        Help Me\n      </button>\n      <MarvinOutput text={outputText} />\n    </div>\n  );\n}\n\nexport default SearchBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}